<div class="container pagecontainer">
    <div class="page-header">
        <h1>Ticket Report</h1>
    </div>

    <div class="panel panel-info">
        <div class="panel-heading">
            <h3 class="panel-title">Show report</h3>
        </div>
        <div class="panel-body">
            <form [formGroup]="reportForm" (ngSubmit)="getReport(reportForm.value)" class="form-horizontal" novalidate autocomplete="off">
                <div class="row">
                  <div class="col-sm-12 col-md-12">
                    <table class="table">
                      <thead>
                      <tr>
                        <th>Timeline</th>
                        <th>Selection</th>

                      </tr>
                      </thead>
                      <tbody>
                      <tr class="success">
                        <td>
                          priority
                        </td>
                        <td> <span><input type="radio" name="report" value="critical" [formControl]="report" checked></span></td>
 <td> <span><input type="radio" name="report" value="normal" [formControl]="report" checked></span></td>
                         <td> <span><input type="radio" name="report" value="urgent" [formControl]="report" checked></span></td>
                      </tr>
                  
                      
                      </tbody>
                    </table>
                    <div class="col-sm-12 col-md-2">
                      <button type="submit" class="btn btn-primary" [disabled]="reportForm.invalid">Submit</button>
                    </div>
                  </div>

                </div>
            </form>
        </div>
    </div>

    <div class="panel panel-danger" *ngIf="tickets && totalrows < 1">
        <div class="panel-heading">
            <h3 class="panel-title">No ticket found</h3>
        </div>

        <div class="panel-body">
            It seems like you haven't entered any ticket for the selected criteria. Please enter you ticket <a routerLink="/ticket">here</a>.
        </div>
    </div>


    <div class="panel panel-default" *ngIf="ticket && totalrows > 0">
        <div class="panel-heading">
            <h3 class="panel-title">Ticket report <i>{{reportTitle}}</i> <b>({{ tickettotal?.total }})</b></h3>
        </div>
        <div class="panel-body">
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th width="10%">subject</th>
                          <th width="25%">Description</th>
                            <th width="20%"><a style="cursor:pointer" (click)="sortTicket('tickettype')">Admin</a></th>
                       <th width="10%"><a style="cursor:pointer" (click)="sortTicket('ticketissuse')">issuse</a></th>
                          <th width="10%"><a style="cursor:pointer" (click)="sortTicket('tickettags')">Tags</a></th>
                            
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor='let tic of ticket; let ticIndex = index'>
                            <td>{{ tic.ticketsubject}}</td>
                          <td>{{ tic.ticketdesc}}</td>
                            <td>{{ tic.tickettype}}</td>
                            <td>{{ tic.ticketissuse}}</td>
                          <td>{{ tic.tickettags}}</td>
                          <td>
                                <button type="button" class="btn-xs btn-info" aria-label="View" (click)="showTicket(tic._id)">
                                    <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                                </button>
                                <button type="button" class="btn-xs btn-danger" aria-label="Edit" (click)="editTicket(tic._id)">
                                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                </button>
                                <button type="button" class="btn-xs btn-primary" aria-label="Delete" (click)="confirmDel(ticIndex, tic._id)">
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                </button>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>

            <div style="text-align:center" *ngIf="ticket && totalrows > 10">
                <nav aria-label="Page navigation">
                    <ul class="pagination">
                        <li *ngFor="let item of createPager(pgCounter); let idx = index">
                            <a [ngClass]="{'selected': qpage == idx + 1 }"class="selected" style="cursor:pointer" (click) = "setPage(idx + 1)">{{ idx + 1 }}</a>
                        </li>
                    </ul>
                </nav>
            </div>

        </div>
    </div>
</div>
